(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{KF5w:function(e,t,n){},QYwz:function(e,t,n){},RXBc:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),i=n("Wbzz"),s=n("ZMKu"),o=n("P2k1"),c=n("7Gmx"),l=n("t8Zj"),u=(n("Wr5T"),n("PGlZ")),f=n("9eSz"),m=n.n(f),d={type:"spring",damping:14,mass:1,stiffness:150,restDelta:0},p=function(e){var t=Object(a.useState)(!1),n=t[0],o=t[1],c=Object(s.c)(),l=Object(s.c)(),f=Object(a.useRef)(),p=Object(a.useRef)("project"),b=Object(a.useRef)(!0),y=e.oldRoute?1400:2e3,g=e.windowSize,h=g.width,j=g.height,v=e.node,w=v.slug,E=v.hero,O=v.title,k=v.year,_=v.mainColor,R=Object(u.a)({threshold:.75}),C=R[0],N=R[1],S=function(){l.start({scale:1,transition:{type:"spring",damping:28,mass:1.6,stiffness:150,restDelta:0}})};Object(a.useEffect)((function(){b.current=Date.now(),setTimeout((function(){b.current=!1}),y)}),[]),Object(a.useEffect)((function(){n&&x()}),[n]);var x=function(){var e=f.current.getBoundingClientRect(),t=e.top,n=e.left,a=e.width,r=e.height;c.set({position:"fixed",left:0,top:0,x:n,y:t,zIndex:999}),l.start({y:j/2-r/2-t,scaleX:h/a+.02,scaleY:j/r+.04,transition:{scaleX:{type:"spring",damping:20,mass:h>1025?.5:8.5,stiffness:200,restDelta:.01},default:{type:"spring",damping:28,mass:1.6,stiffness:150,restDelta:.01}}})};return e.shouldUpdateClasses.current&&(p.current="project"+(n?" -animating":"")+(N?" -visible":""),n&&(e.shouldUpdateClasses.current=!1)),r.a.createElement(i.Link,{onClick:function(e){if(b.current){e.preventDefault(),e.stopPropagation();var t=Math.max(100,y-(Date.now()-b.current));n=t/1e3,l.start({scale:.97,transition:{type:"tween",ease:"easeOut",duration:n}}),setTimeout((function(){S(),o(!0),Object(i.navigate)("/case-study/"+w)}),t)}else S(),o(!0);var n},onMouseEnter:function(){!n&&l.start({scale:.99,transition:d})},onMouseLeave:function(){!n&&S()},to:"/case-study/"+w,className:p.current,ref:C,id:""+w},r.a.createElement(s.b.div,{className:"project__filter-animation",initial:"hidden",animate:e.filterResponseControls},r.a.createElement(s.b.div,{key:"/case-study/"+w,className:"project__container",ref:f,initial:!1,animate:c},r.a.createElement(s.b.div,{className:"project__bkg",animate:l,style:{backgroundColor:_}}),r.a.createElement("div",{className:"project__image-wrapper"},r.a.createElement(m.a,{className:"project__image",imgStyle:{objectFit:"contain"},fluid:E.fluid})),r.a.createElement("h2",{className:"project__title"},O),r.a.createElement("span",{className:"project__date"},k),r.a.createElement("span",{className:"project__type"},"UX"),r.a.createElement("svg",{className:"project__arrow",width:"24",height:"17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M14.3 1L22 8.5 14.3 16M22 8.5H0",stroke:"#f7f7f7",strokeWidth:"2"})))))},b=Object(a.memo)(p),y=function(e){var t=Object(u.a)({threshold:.75,rootMargin:"-15% 0px -15% 0px"}),n=t[0],i=t[1],s=t[2],o=e.node;return Object(a.useEffect)((function(){e.windowWidth<=1024&&s&&(i?s.target.play():s.target.pause())}),[i]),r.a.createElement("div",{className:"snacks__block"},o.fluid?r.a.createElement(m.a,{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"},fluid:o.fluid}):r.a.createElement("video",{playsInline:!0,preload:"metadata",loop:!0,muted:!0,onMouseOver:function(t){return function(t){e.windowWidth>1024&&t.target.play()}(t)},onMouseOut:function(t){return function(t){e.windowWidth>1024&&t.target.pause()}(t)},ref:n},r.a.createElement("source",{src:o.file.url+"#t=0.1"}),"Your browser does not support video."))},g=(n("QYwz"),function(e){return r.a.createElement("ul",{className:"filters"},Object.entries(e.tags).map((function(t,n){return r.a.createElement("li",{className:e.filter===t[0]?"filters__item --active":"filters__item",key:n},r.a.createElement("a",{role:"button",tabIndex:"0",onClick:function(){e.setFilter(t[0])},onKeyPress:function(n){"Enter"===n.key&&e.setFilter(t[0])}},t[0]),r.a.createElement("span",null,t[1]))})))}),h=n("2xTN"),j=(n("KF5w"),n("FJnA")),v=n("2V5o");function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var O=function(e){var t=Object(s.c)(),n=Object(s.c)(),o=Object(s.c)(),c=Object(j.c)(),u=Object(a.useRef)(!1),f=Object(a.useRef)(!0),m=Object(a.useContext)(v.b),d=Object(i.useStaticQuery)("2051223828"),p=d.contentfulCaseStudyList.projects,E=d.contentfulSnacks.snackList;Object(a.useEffect)((function(){u.current?(t.set({opacity:0,y:60}),n.set("initial"),o.set("initial"),o.start("animate"),n.start("animate"),t.start({y:0,opacity:1,transition:{type:"spring",damping:28,mass:1,stiffness:170,delay:.35}})):u.current=!0}),[m.filter]);var O,k=Object(a.useMemo)((function(){for(var e,t=[],n=w(p);!(e=n()).done;){var a=e.value;a.tags&&t.push.apply(t,Object(l.a)(a.tags))}for(var r,i=w(E);!(r=i()).done;){r.value;t.push("Snacks")}var s={};return t.forEach((function(e){s[e]=(s[e]||0)+1})),s}),[p,E]);return r.a.createElement("div",{className:"projects",id:"projects"},r.a.createElement(h.a,{loaderControls:n,loaderLineControls:o}),r.a.createElement(g,{tags:k,filter:m.filter,setFilter:m.setFilter,filterResponseControls:t}),(O=m.filter,O?p.filter((function(e){return e.tags.some((function(e){return e===O}))})):p).map((function(n,a){return r.a.createElement(b,{node:n,key:a,oldRoute:e.oldRoute,shouldUpdateClasses:f,filterResponseControls:t,windowSize:c})})),"Snacks"===m.filter&&r.a.createElement(s.b.div,{className:"snacks",animate:t},E.map((function(e,n){return r.a.createElement(y,{node:e,key:n,filterResponseControls:t,windowWidth:c.width})}))))},k=n("lg74"),_=n("5Z8V"),R=function(e){var t=Object(i.useStaticQuery)("2069923813").site.buildTime.substr(0,10).split("-");return r.a.createElement(s.b.main,{key:e.location.pathname,className:"motion-page home",initial:"initial",animate:"animate",exit:"exit",custom:e.oldRoute,variants:_.c},r.a.createElement(o.a,{title:"Home"}),r.a.createElement(c.a,{headline:"Work",leftText:t[1]+" . "+t[2]+" . "+t[0],rightText:"v2.31",oldRoute:e.oldRoute}),r.a.createElement(O,{oldRoute:e.oldRoute}),r.a.createElement(k.a,null))};t.default=Object(a.memo)(R)}}]);
//# sourceMappingURL=component---src-pages-index-js-02c5789e239e3d15c9f0.js.map